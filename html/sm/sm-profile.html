<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.11.0/dist/chart.min.mjs"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"
    integrity="sha512-8Z5++K1rB3U+USaLKG6oO8uWWBhdYsM3hmdirnOEWp8h2B1aOikj5zBzlXs8QOrvY9OxEnD2QDkbSKKpfqcIWw=="
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js" integrity="sha512-GMGzUEevhWh8Tc/njS0bDpwgxdCJLQBWG3Z2Ct+JGOpVnEmjvNx6ts4v6A2XJf1HOrtOsfhv3hBKpK9kE5z8AQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

	<script src="/js/script.js"></script>
	<script src="/js/auth.js"></script>
    <script src="/js/staff_profile.js"></script>
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/table.css">
	<link rel="stylesheet" href="/css/buttons.css">
	<link rel="stylesheet" href="/css/validations.css">
    <link rel="stylesheet" href="/css/profile.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.3/dist/sweetalert2.min.css">

    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.3/dist/sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
	<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <title>User profile</title>
</head>
<body> 
	<nav class="navbar" >
		<script>createNavBar("sm")</script>
	</nav>
	<div class="container">
        <div class="sidebar active">
            <script>createSideBar("sm")</script>

        </div>

		<div class="service-view">
			<div class="card-1">
                <div class="head">
                    <div class="title">
                        <button id="edit-btn" class="edit-btn" style="justify-content: end;" onclick="editProfile()" >Edit</button>
                        <h3 class="title1">My account</h3>
                      
                    </div>
                </div>
                <div class="card-1-body">
                    <div class="title">
                        
                        <h4 class="title2">User Information</h3>
                    </div>
                    <div class="info">
                        <div class="info1">
                            <div class="Uname-con">
                                <label class="Uname" for="Uname">Username</label>
                                <input type="text" id="Username" class="Username" value="" disabled>
                            </div>
                            <div class="Email-con">
                                <label class="Email-l" for="Email-l">E-mail</label>
                                <input type="text" id="email" class="email" value="" disabled>
                            </div>
                        </div>
                        <div class="info2">
                            <div class="Name-con">
                                <label class="Name" for="Name">Name</label>
                                <input type="text" id="Fname" class="Fname" value="" disabled>
                            </div>
                            <div class="Gender-con">
                                <label class="Gen-l" for="Gen-l">Gender</label>
                                <input type="text" id="gen" class="gen" value="" disabled>
                            </div>
                        </div>
                        <div class="info3">
                            <div class="hemeSt-con">
                                <label class="homeSt" for="homeSt">Birthday</label>
                                <input type="text" id="homeStation" class="homeStation" value="" disabled>
                            </div>
                            <div class="tel-con">
                                <label class="tel-no" for="tel-no">Telephone No</label>
                                <input type="text" id ="tel" class="tel" value="" disabled>
                            </div>
                        </div>
                        
                        <div class="two-button">
                            <div class="chn-pw-and-delete-acc">
                                <button class="change-pw" onclick="popupAddPage('.Cpw-modal');" >Change Password</button>
                                <!-- <button class="delete-acc" onclick="popupAddPage('.Delete-modal')" >Delete Account</button> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-2">
                <h1 id="name-c2"></h1>
                <p id="role-c2"></p>
                <img id="profile-p" src="../../Images/users/profile-user.png" alt="">
                <label for="dp" class="dp">Change Profile Picture</label>
                <input class="input-dp" id="dp" type="file" onchange="uploadDP();" accept=".pdf, .jpg, .png">
                <!-- <script>
                    const uploadField = document.getElementById("dp");

                    uploadField.onchange = function() {
                        if(this.files[0].size > 5242880){
                        alert("File is too big!");
                        this.value = "";
                        }
                    }
                    let pp = document.getElementById("profile-p");
                    let ip = document.getElementById("dp");

                    ip.onchange = function(){
                        pp.src = URL.createObjectURL(ip.files[0]);
                    }
                </script> -->
            </div>
		</div>
	</div>

    <dialog class="edit-modal dialog-modal">
		<div class="editing-form">
            <button class="close-button" onclick="closeDialog()"><i class="fas fa-times"></i></button>
			<section class="table_header">
				<h1 id="edit-heading">Update Profile</h1>
			</section>
			<form onsubmit="return false" id="edit_form">
				<label for="edit-fname"></label>
                <input type="text" id="edit-fname" name="edit-fname" placeholder="First Name:" required><br>

                <label for="edit-lname"></label>
                <input type="text" id="edit-lname" name="edit-lname" placeholder="Last Name:" required><br>

                <!-- <label for="edit-dob"></label>
                <input type="date" id="edit-dob" name="edit-dob" placeholder="Birthday:" required><br> -->

                <label for="edit-email"></label>
                <input type="text" id="edit-email" name="edit-email" placeholder="Email:" onkeyup="validateEmail()"><br>
                <p id="email-error"></p>

                <label for="editgender"></label>
                    <select id="editgender" name="editgender" required>
                        <option value="" disabled style="color: #484848" selected>Gender:</option>
                        <option value="male" style="color: #484848">Male</option>
                        <option value="female" style="color: #484848">Female</option>
                        <option value="other" style="color: #484848">Other</option>
                    </select>

                <label for="edit-tel"></label>
                <input type="text" id="edit-telno" name="edit-telno" placeholder="Telephone No:" onkeyup="validatePhone()" required><br>
                <p id="phone-error"></p> 

                
				<div class="dialog-buttons">
					<button class="form-clear-button" onclick="document.getElementById('edit_form').reset()">Clear</button>
					<button type="submit" class="editform-submit-button" id="editform-submit-button">Update</button>
				</div>
			</form>
		</div>
	</dialog>

    <dialog class="Cpw-modal" id="Cpw-modal">
		<div class="editing-form">
			<section class="table_header">
				<h1 id="edit-heading">Enter the current password</h1>
			</section>
			<form onsubmit="return false" id="checkpw_form">
                <div class="user-box">
				<label for="current-pw"></label>
                <input type="password" id="current-pw" name="current-pw" placeholder="Current Password:" required>
                    <span class="password-toggle-icon" onclick="togglePasswordVisibility1()"><i class="fas fa-eye"></i></span>
                <br>
            </div>
                <p id="checkpw-error"></p> 
                
				<div class="dialog-buttons">
					<!-- <button class="form-clear-button" onclick="popupClosePage('Cpw-modal')">Cancel</button> -->
					<button type="submit" class="editform-submit-button" id="editform-submit-button" onclick="checkPW()" style="margin-left: 40px;">Submit</button>
				</div>
			</form>
		</div>
	</dialog>


    <dialog class="Chng-modal" id="Chng-modal">
		<div class="editing-form">
			<section class="table_header">
				<h1 id="edit-heading">Create New Password</h1>
			</section>
			<form onsubmit="return false" id="checkpw_form">
                <div class="user-box">
				<label for="new-pw"></label>
                <input type="password" id="password" name="new-pw" onkeyup="validateStrPassword()" placeholder="New Password:" required>
                <span class="password-toggle-icon2" onclick="togglePasswordVisibility2()"><i class="fas fa-eye"></i></span>
                <br>
                </div>
                <span id="spassword-error"></span>
                <div class="user-box">
                <label for="new2-pw"></label>
                <input type="password" id="cpassword" name="new2-pw" onkeyup="validatePassword()" placeholder="Confirm Password:" required>
                <span class="password-toggle-icon3" onclick="togglePasswordVisibility3()"><i class="fas fa-eye"></i></span>
                <br>
                </div>
                <span id="password-error"></span> 
                
				<div class="dialog-buttons">
					<button class="form-clear-button" onclick="CancelChgPw()">Cancel</button>
					<button type="submit" class="editform-submit-button" id="editform-submit-button" onclick="changePW()" style="margin-left: 40px;">Confirm</button>
				</div>
			</form>
		</div>
	</dialog>

    <script src="/js/stations.js">
    </script>
</body>
</html>
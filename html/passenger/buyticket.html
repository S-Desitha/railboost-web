<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/js/script.js"></script>
    <script src="/js/auth.js"></script>
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/buyticket.css">  
	<script src="/js/buyticket.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
    <title>Buy E-Ticket</title>
</head>
<body> 
    <nav class="navbar" >
        <script>createNavBar("passenger")</script>
    </nav>

	<div class="train-container">
        <div class="train-left">
            <img src="../../Images/t33.png" alt="Train Image" class="train-image ">
		</div>
				
		<div class="train-right">
		    <div class="train-form">
							
				<form onsubmit="return false">
					<h2 class="add-train-heading" id="add_update-schedule-header">Buy E-Ticket </h2>

                    <label for="start-station"></label>
                    <!-- <select id="start-station" onchange="validateStation(); getPrice();" name="start-station" required>
                        <option value="" disabled selected>Start Station:</option>
                        <option value="Beliaththa" style="color: #484848">Beliaththa</option>
                        <option value="Colombo Fort" style="color: #484848">Colombo Fort</option>
                        <option value="Panadura" style="color: #484848">Panadura</option>
                    </select> -->
                  
					<div class="wrapper" font-size="1px" id="from">
                        <div class="select-btn">
                            <span>Start Station:</span> 
                            <i font-size="3px" class="fa fa-angle-down"></i>
                        </div>
                        <div class="content">
                            <div class="search">
                                <i class="fas fa-search"></i>
                                <input spellcheck="false" type="text" placeholder="Search">
                            </div>
                            <ul onclick="getPrice(); validateStation();" class="options"></ul>
                        </div>
                    </div>
                
                    <!-- <label for="end-station"></label>

                    <select id="end-station" onchange="validateStation(); getPrice();" name="end-station" required>
                        <option value="" disabled selected>End Station:</option>
                        <option value="Beliaththa" style="color: #484848">Beliaththa</option>
                        <option value="Colombo Fort" style="color: #484848">Colombo Fort</option>
                        <option value="Panadura" style="color: #484848">Panadura</option>
                    </select><br /> -->
                    <div class="wrapper" font-size="1px" id="to">
                      <div class="select-btn">
                          <span>End Station:</span> 
                          <i font-size="3px" class="fa fa-angle-down"></i>
                      </div>
                      <div class="content">
                          <div class="search">
                              <i class="fas fa-search"></i>
                              <input spellcheck="false" type="text" placeholder="Search">
                          </div>
                          <ul onclick="getPrice(); validateStation();" class="options"></ul>
                      </div>
                  </div>
                    <span id="station-error"></span>
								
                    <label for="date"></label>
                    <input type="date" id="date" name="date" placeholder="Date:" min="" max="" required><br />   
                                
                    <script>
                        var currentDate = new Date();
                        var formattedDate = currentDate.toISOString().split('T')[0];
                        document.getElementById('date').value = formattedDate;
                        var minDate = currentDate.toLocaleDateString('en-CA',{timeZone:'Asia/Colombo'});
                        document.getElementById('date').min = minDate;
                        currentDate.setMonth(currentDate.getMonth() + 3);
                        currentDate.setHours(0, 0, 0, 0);
                        var maxDate = currentDate.toISOString().split('T')[0];
                        document.getElementById('date').max = maxDate;
                    </script>

                    <label for="class"></label>
                    <select id="class" name="class" onchange="getPrice()" required>
                        <option value="" disabled selected>Class:</option>
                        <option value="1st Class" style="color: #484848">1st Class</option>
                        <option value="2nd Class" style="color: #484848">2nd Class</option>
                        <option value="3rd Class" style="color: #484848">3rd Class</option>
                    </select>

                    <label for="no-of-tickets"></label>
					<input type="text" id="no-of-tickets" name="no-of-tickets" onkeyup="validateNoOfTicket(); getPrice();" placeholder=" No. of Tickets:" required><br>
                    <span id="error"></span><br>

                    <div class="price-of-1"> <span id="price-of-one"></span></div>
                    <label for="total-price"></label>
					<input disabled value="" type="Double" id="total-price" name="total-price" placeholder=" Total Price:" ><br>

					<button class="form-button" id="buy-ticket-button" onclick="buyETicket()">Buy</button>
				</form>
	    	</div>
				
		</div>
	</div>

<script src="/js/stations.js">
</script>
				
</body>
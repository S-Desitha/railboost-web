<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- sweet alert -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.3/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.3/dist/sweetalert2.all.min.js"></script>

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"
    integrity="sha512-8Z5++K1rB3U+USaLKG6oO8uWWBhdYsM3hmdirnOEWp8h2B1aOikj5zBzlXs8QOrvY9OxEnD2QDkbSKKpfqcIWw=="
    crossorigin="anonymous"></script>

    <!-- charts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js" integrity="sha512-GMGzUEevhWh8Tc/njS0bDpwgxdCJLQBWG3Z2Ct+JGOpVnEmjvNx6ts4v6A2XJf1HOrtOsfhv3hBKpK9kE5z8AQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.11.0/dist/chart.min.mjs"></script>
    
    <!-- icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">

    <!-- css imports -->
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/sch.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/datepicker.css">
    <!-- <link rel="stylesheet" href="/css/sch.css"> -->
    <!-- <link rel="stylesheet" href="/css/passSch.css"> -->

    <!-- js imports -->
    <script src="/js/script.js"></script>
    <script src="/js/passenger.js"></script>
	
    <title>Train Schedule Management</title>
</head>
<body> 
    <nav class="navbar" >
        <script>createNavBar("passenger")</script>
    </nav>

    <div class="container">

        <div class="sidebar active" >
            <script>createSideBar("passenger")</script>
        </div>

        <div class="service-view">
			<div class="service-container">
                
                <div class="train-containers" id="train-containers">
                	<div class="service-header">
                    
                        <h1 style="margin-left:0px ; font-size: 35px;">Train Time Table</h1>
                        <div class="SnE-stations">
                            <div class="selectedsstation" id="selectedsstation">
                                <p style="font-size: 25px; margin-right: 5px;"> Colombo Fort &nbsp </p>
                            </div>
                            <div class="selecteddstation" id="selecteddstation">
                                <p style="font-size: 25px; margin-left: 10px;"> Panadura </p>
                            </div>
                        </div>
                    </div>
                    <script>getSchedules()</script>
                    
        
                </div>
                <dialog class="dialog-modal" style="width: fit-content;overflow-y: scroll;">
                    <button class="close-button" onclick="closeDialog()"><i class="fas fa-times"></i></button>
                        
                    <section class="table_header station_header" style="display: flex;">
                        <h1>Train stopping stations</h1>
                        <div class="input-group">
                            <input type="search" placeholder="Search Station...">
                            <img src="/Images/search.png" alt="">
                        </div>
                    </section>
                    <script>
                        const searchInput2 = document.querySelector('.station_header input[type="search"]');
                        searchInput2.addEventListener('input', filterScheduleStationsTable);
            
                        function filterScheduleStationsTable() {
                            const searchTerm = searchInput2.value.toLowerCase();
                            const tableRows = document.querySelectorAll('#schedule_stations tr');
            
                            tableRows.forEach(row => {
                                let rowVisible = false;
            
                                for (let i = 0; i < row.cells.length; i++) {
                                    const cellText = row.cells[i].textContent.toLowerCase();
                                    if (cellText.includes(searchTerm)) {
                                        rowVisible = true;
                                        break;
                                    }
                                }
            
                                if (rowVisible) {
                                    row.style.display = 'table-row';
                                } else {
                                    row.style.display = 'none';
                                }
                            });
                        }
                    </script>
            
                    <section class="schedule-dates-view" >
                        
                            <div id="start-from2" class="start-from" >
                                <div class="starts" style="justify-content: center;width: max-content;">
                                    <p>Starts From</p>	
                                </div>
                                <div class="start-from">
                                    <b><span id="start-from-date"></span></b>
                                </div>
                            </div>
            
                            <div id="ends-on" class="ends-on"style="display: flex;flex-direction: column;">
                                <div class="starts" style="justify-content: center;width: max-content;">
                                    <p>Ends On</p>	
                                </div>
                                <div class="start-from">
                                    <b><span id="ends-on-date"></span></b>
                                </div>
                            </div>
                        
                            <div id="day-container" class="day-container" >
                                <div class="days" >
                                    <p style="justify-content: center;">Operating Days</p>	
                                </div>
                                <div>
            
                                
                                    <div class="cat day">
                                    <label>
                                        <input id="sun" type="checkbox" value="SUNDAY"><span>S</span>
                                    </label>
                                    </div>
                                    
                                    <div class="cat day">
                                    <label>
                                        <input id="mon" type="checkbox" value="MONDAY"><span>M</span>
                                    </label>
                                    </div>
                                    
                                    <div class="cat day">
                                    <label>
                                        <input id="tue" type="checkbox" value="TUESDAY"><span>T</span>
                                    </label>
                                    </div>
                                    
                                    <div class="cat day">
                                    <label>
                                        <input id="wed" type="checkbox" value="WEDNESDAY"><span>W</span>
                                    </label>
                                    </div>
                                    
                                    <div class="cat day">
                                    <label>
                                        <input id="thu" type="checkbox" value="THURSDAY"><span>T</span>
                                    </label>
                                    </div>
                                    
                                    <div class="cat day">
                                    <label>
                                        <input id="fri" type="checkbox" value="FRIDAY"><span>F</span>
                                    </label>
                                    </div>
                                    
                                    <div class="cat day">
                                    <label>
                                        <input id="sat" type="checkbox" value="SATURDAY"><span>S</span>
                                    </label>
                                    </div><br><br><br>
                                </div>
                            </div>
                    </section>
            
                    <section class="table_body">
                        <table>
                        <thead>
                            <tr>
                                <th>Station Name</th>
                                <th>Scheduled Arrival Time</th>
                                <th>Scheduled Departure Time</th>
                                <th>Actual Arrival Time</th>
								<th>Actual Departure Time</th>
                            </tr>
                        </thead>
                        <tbody id="schedule_stops">
                            
                        </tbody>
                    </section>
                </dialog>
			</div>
        </div>
    </div>		
</body>

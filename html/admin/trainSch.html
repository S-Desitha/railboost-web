<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
	<!-- axios -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

	<!-- sweet alert -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.3/dist/sweetalert2.min.css">
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.16.3/dist/sweetalert2.all.min.js"></script>
    <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.11.0/dist/chart.min.mjs"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.js"
    integrity="sha512-8Z5++K1rB3U+USaLKG6oO8uWWBhdYsM3hmdirnOEWp8h2B1aOikj5zBzlXs8QOrvY9OxEnD2QDkbSKKpfqcIWw=="
    crossorigin="anonymous"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.min.js" integrity="sha512-GMGzUEevhWh8Tc/njS0bDpwgxdCJLQBWG3Z2Ct+JGOpVnEmjvNx6ts4v6A2XJf1HOrtOsfhv3hBKpK9kE5z8AQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

	<script src="/js/jquery3.7.1.js"></script>

	<script src="/js/auth.js"></script>
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/trainSch.css">
	<link rel="stylesheet" href="/css/table.css">
	<link rel="stylesheet" href="/css/buttons.css">
	<link rel="stylesheet" href="/css/datepicker.css">
	<link rel="stylesheet" href="/css/validations.css">
	<!-- <link rel="stylesheet" href="/css/passSearch.css"> -->
    <script src="/js/script.js"></script>
	<script src="/js/schedule.js"></script>
	<script src="/js/linkedList.js"></script>
	<!-- <script src="/js/train.js"></script> -->
	
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <title>Train Schedule Management</title>
</head>
<body> 
	<div id="preloader">
        <img src="/Images/train.gif" alt="Loading...">
    </div>
    
	<nav class="navbar" >
		<script>createNavBar("admin")</script>
	</nav>
	<div class="container">
        <div class="sidebar active">
            <script>createSideBar("admin")</script>

        </div>

	

	<div class="service-view">
			<div class="service-container" style="flex-direction: row;gap: 150px;">
			

			<!-- <div class="trainsc-header" id="scheduleTitle">
				<i class="fas fa-train"></i>
				<h3>Panadura- Colombo Fort</h>
				<p>Train Number: 1234</p>
				<p>Train Type: Express</p>
			</div> -->
			<div class="scheduleadd">
				<form class="train-form" id="schedule-form" onsubmit="return false">
					<h2 class="add-train-heading" >Add a new train schedule </h2>
						<label for="Schedule-ID"></label>
						<input type="text" id="sch-id" placeholder="Schedule ID" required><br>

						
							<select class="trainID" id="train-id" required >
								<!-- add disabled trainID option -->
								
								<!-- Options will be dynamically added here -->
							</select><br>
						<div class="wrapper" id="from" style="margin-left:0px ;margin-right:0px ;">
							<div class="select-btn">
								<span>Select Starting Station</span>
								<i class="uil uil-angle-down"></i>
							</div>
							<div class="content">
								<div class="search">
									<i class="uil uil-search"></i>
									<input spellcheck="false" type="text" placeholder="Search">
								</div>
								<ul class="options">
								</ul>
							</div>
						</div><br>
	
						<div class="wrapper" id="to" style="margin-left:0px ;margin-right:0px ;margin-top: 0px;">
							<div class="select-btn">
								<span>Select Ending Station</span>
								<i class="uil uil-angle-down"></i>
							</div>
							<div class="content">
								<div class="search">
									<i class="uil uil-search"></i>
									<input spellcheck="false" type="text" placeholder="Search">
								</div>
								<ul class="options"></ul>
							</div>
						</div>
	
						<label for="speed"></label>
						<select name="speed" id="speed" style="border-radius: none;">
							<option value="" disabled>--Select Speed--</option>
							<option value="Slow">Slow</option>
							<option value="Semi-Empress">Semi-Express</option>
							<option value="Express">Express</option>
							<option value="Intercity">Intercity</option>
						</select><br>
	
						<div class="recurrence-button">
							<button id="rec-button" onclick="popupDatePicker('.datepicker-modal')">
								<i class="fas fa-sync-alt"></i>&nbsp; Add Recurrence
							</button>
						</div>
						
						<button type="submit" class="form-button" style="width: 19rem;" id="submit-schedule-btn" onclick="addNewSchedule()">Add Schedule</button>
				</form>
		
			</div>
			<div >
			<button class="add-new-btn" style="margin-left: 450px;margin-right: 0px;" onclick="popupAddPage('.dialog-modal')" >Add New Stopping</button>


			<section class="table_header">
				<h1>Train stopping stations</h1>
				<div class="input-group">
					<input type="search" placeholder="Search Station...">
					<img src="/Images/search.png" alt="">
				</div>
				
			</section>

			<section class="table_body" id="clonable-table">
				<table id="schedule-stations-table" class="table">
					<thead>
						<tr>
							<th>Station Name</th>
							<th>Scheduled Arrival Time</th>
							<th>Scheduled Departure Time</th>
							<th>Actions</th>
					</thead>
					<tbody id="schedule_stations"></tbody>
				</table>
			</section>
		</div>
		</div>
	
		
	</div>
	</div>

	<dialog class="dialog-modal" style="width: fit-content;">
		<div class="adding-form">
			<button class="close-button" onclick="closeDialog()"><i class="fas fa-times"></i></button>
		<form class="train-form" id="station-form" onsubmit="addStoppingStation(this); return false">
			<!-- <fieldset> -->
				<p style="margin-top: 20px;margin-left: 20px;">Stopping Station: </p>
				<div class="wrapper" id="stopping" style="border: none;margin-bottom: 0px;">
				<div class="select-btn" style="margin-bottom:0px">
					<span>Station</span>
					<i class="uil uil-angle-down"></i>
				</div>
				<div class="content">
					<div class="search">
						<!-- <i class="uil uil-search"></i> -->
						<input spellcheck="false" type="text"style="margin-bottom:0px" placeholder="Search">
					</div>
					<ul class="options">
					</ul>
				</div>
				</div>
					<label for="SAT"></label>
					<input type="time" id="SAT" placeholder="Scheduled Arrival Time" name="Scheduled Arrival Time" required><br>

					<label for="SDT"></label>
					<input type="time" id="SDT" placeholder="Scheduled Departure Time" name="Scheduled Departure Time" required><br>
				<!-- <div class="buttons">
					<button class="form-button" id="add_update-sch_station" onclick="addStoppingStation(this)">Add a new stopping </button>
					<button type="submit" class="form-button" id="done" onclick="addNewSchedule()">Done </button>
				</div> -->
				<input type="submit" style="width:20vw;margin-left: 20px;" class="form-button" id="add_update-sch_station" value="Add a new stopping">
			<!-- </fieldset> -->
		</form>
	</div>
	</dialog>

	<dialog class="datepicker-modal">
		<div class="recurrence-window">
			<button class="close-button" onclick="closeDialog()"><i class="fas fa-times"></i></button>
            <div class="table_header">
                <h2>Custom Recurrence</h2>
            </div>
        <div class="body">
            <div class="repeat-every">
                <label for="repeat-every"><b>Repeat every</b>   </label>
                <input type="number" id="repeat-every" min="1" value="1">

                <select id="repeat-unit" style="border: none;border-bottom: 1px solid #a9a9a9; border-radius: 0px;" name="repeat-unit">
					<option value=null selected disabled>--Select--</option>
                    <option value="day">Day</option>
                    <option value="week">Week</option>
                    <option value="month">Month</option>
                    <option value="year">Year</option>
                </select>
            </div><br>
            
            <div id="start-from" class="start-from">
                <label for="start-from"><b>Start from</b></label>
                <div class="start-from">
                    <input type="date" id="start-from-date">
                </div>
            </div>
            
            <div id="repeat-on" class="repeat-on" style="margin-bottom: 10px;">
                <label for="repeat-on"><b>Repeat on</b></label><br>
            </div>
                <div id="m-container" class="m-container">
                    <label>Date   </label>
                    <input type="number" id="repeat-every" min="1" max="31" value="1">
					<label style="font-size: 15px;">(Eg:10-10th of every month)</label>
                    <br><br>
                </div>
                <div id="y-container" class="y-container">
                    
                    <label>Month   <br></label>
                    <select id="repeat-unit" style="border: none;border-bottom: 1px solid #a9a9a9; border-radius: 0px;margin-top:10px ;" name="repeat-unit" onchange="setRU();">
                        <option value="1">January</option>
                        <option value="2">February</option>
                        <option value="3">March</option>
                        <option value="4">April</option>
                        <option value="5">May</option>
                        <option value="6">June</option>
                        <option value="7">July</option>
                        <option value="8">August</option>
                        <option value="9">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select><br><br>
                    <label>Date       </label>
                    <input type="number" style="margin-top:0px ;" id="repeat-every" min="1" max="31" value="1">
					<label style="font-size: 15px;">(Eg:10-10th of the month)</label>
                    <br><br>
                </div>
                

                <div id="container" class="days-container">
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="sun" type="checkbox" value="SUNDAY"><span>S</span>
                       </label>
                    </div>
                    
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="mon" type="checkbox" value="MONDAY"><span>M</span>
                       </label>
                    </div>
                    
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="tue" type="checkbox" value="TUESDAY"><span>T</span>
                       </label>
                    </div>
                    
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="wed" type="checkbox" value="WEDNESDAY"><span>W</span>
                       </label>
                    </div>
                    
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="thu" type="checkbox" value="THURSDAY"><span>T</span>
                       </label>
                    </div>
                    
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="fri" type="checkbox" value="FRIDAY"><span>F</span>
                       </label>
                    </div>
                    
                    <div class="cat day" style="margin-right:15px ;">
                       <label>
                          <input id="sat" type="checkbox" value="SATURDAY"><span>S</span>
                       </label>
                    </div><br><br><br>
                </div>
        <div class="ends">
            <label for="ends"><b>Ends</b></label><br>
            <div class="repetition" >
                <div>
					<label for="never">Never</label>
					<input type="radio" name="ends-option" id="never" value="never" checked>
				</div>
    
				<div>
					<label for="on-date">On</label>
					<input type="radio" name="ends-option" id="on-date" value="on-date">
				</div>
				
                <div>
					<label for="after-occurrences">After</label>
					<input type="radio" name="ends-option" id="after-occurrences" value="after-occurrences">
				</div>	
                <div class="ends-on">
                    <input type="date" style="background-color: rgb(241, 243, 244);" id="ends-on-date">
                </div>
                <div class="ends-after">
                    <br>
                    <input type="number" style="background-color: rgb(241, 243, 244);" id="ends-after-occurrences" min="1" value="1">
                    <label for="ends-after-occurrences">Occurrences</label>
                </div>
            </div>
        </div>
		<button class="form-button" style="width: 100%;" onclick="this.closest('dialog').close()">Done</button>
		
	</dialog>

	<script src="/js/stations.js"></script>				
</body>
</html>